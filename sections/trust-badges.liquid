{% schema %}
{
  "name": "Trust Badges",
  "tag": "section",
  "class": "section-trust-badges",
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#f8f8f8"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#1a1a1a"
    },
    {
      "type": "range",
      "id": "padding_y",
      "min": 20,
      "max": 100,
      "step": 4,
      "default": 60,
      "unit": "px",
      "label": "Vertical Padding"
    }
  ],
  "blocks": [
    {
      "type": "badge",
      "name": "Badge",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            { "value": "shipping", "label": "Shipping (Box)" },
            { "value": "security", "label": "Security (Lock)" },
            { "value": "authenticity", "label": "Authenticity (Star)" },
            { "value": "return", "label": "Returns (Arrow)" },
            { "value": "none", "label": "None" }
          ],
          "default": "authenticity"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Authenticity Guaranteed"
        },
        {
          "type": "text",
          "id": "text",
          "label": "Subtext",
          "default": "100% Verified Items"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Trust Badges",
      "blocks": [
        {
          "type": "badge",
          "settings": {
            "icon": "shipping",
            "heading": "Fast Shipping",
            "text": "Worldwide Delivery"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon": "security",
            "heading": "Secure Checkout",
            "text": "Encrypted Payment"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon": "authenticity",
            "heading": "Authenticity",
            "text": "Guaranteed Original"
          }
        }
      ]
    }
  ]
}
{% endschema %}

{%- style -%}
  .trust-badges {
    background-color: {{ section.settings.bg_color }};
    color: {{ section.settings.text_color }};
    padding-top: {{ section.settings.padding_y }}px;
    padding-bottom: {{ section.settings.padding_y }}px;
    font-family: 'VCR_OSD_MONO', monospace;
  }

  .trust-badges__container {
    max-width: 1440px;
    margin: 0 auto;
    padding: 0 2rem;
    display: flex;
    flex-direction: column;
    gap: 3rem;
    text-align: center;
  }

  /* Desktop Laytout */
  @media screen and (min-width: 768px) {
    .trust-badges__container {
      flex-direction: row;
      justify-content: space-around;
      align-items: flex-start;
      gap: 2rem;
      text-align: left;
    }
  }

  .trust-badge-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    flex: 1;
  }
  
  @media screen and (min-width: 768px) {
    .trust-badge-item {
      align-items: flex-start;
      border-left: 1px solid rgba(0,0,0,0.1);
      padding-left: 2rem;
    }
    .trust-badge-item:first-child {
        border-left: none;
        padding-left: 0;
    }
  }

  .trust-badge__icon {
    width: 32px;
    height: 32px;
    margin-bottom: 0.5rem;
  }
  
  .trust-badge__icon svg {
    width: 100%;
    height: 100%;
    fill: currentColor;
  }

  .trust-badge__content {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .trust-badge__heading {
    font-family: 'Yeezy TStar', sans-serif;
    text-transform: uppercase;
    font-weight: 700;
    font-size: 1.125rem;
    letter-spacing: 0.05em;
    margin: 0;
  }

  .trust-badge__text {
    font-size: 0.875rem;
    opacity: 0.7;
    text-transform: uppercase;
    line-height: 1.4;
  }
{%- endstyle -%}

<div class="trust-badges">
  <div class="trust-badges__container">
    {% for block in section.blocks %}
      <div class="trust-badge-item" {{ block.shopify_attributes }}>
        {% unless block.settings.icon == 'none' %}
          <div class="trust-badge__icon">
            {% case block.settings.icon %}
              {% when 'shipping' %}
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 8h-3V4H3v14h2.176c.492 1.162 1.647 2 3.016 2 1.369 0 2.524-.838 3.016-2h5.584c.492 1.162 1.647 2 3.016 2 1.369 0 2.524-.838 3.016-2H23v-5l-3-5zM5 6h10v2H5V6zm3.192 12c-.658 0-1.192-.534-1.192-1.192 0-.658.534-1.192 1.192-1.192.658 0 1.192.534 1.192 1.192 0 .658-.534 1.192-1.192 1.192zM15 14H9v-4h6v4zm4.808 4c-.658 0-1.192-.534-1.192-1.192 0-.658.534-1.192 1.192-1.192.658 0 1.192.534 1.192 1.192 0 .658-.534 1.192-1.192 1.192zM19 12h-2V9l2 3z"/></svg>
              {% when 'security' %}
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L4 5v6.09c0 5.05 3.41 9.61 8 10.91 4.59-1.3 8-5.86 8-10.91V5l-8-3zm0 17.72c-3.67-1.16-6.41-4.83-6.41-8.99V6.44l6.41-2.4 6.41 2.4v4.29c0 4.16-2.74 7.83-6.41 8.99zM11 14h2v2h-2zm0-7h2v6h-2z"/></svg>
              {% when 'authenticity' %}
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 1L9 9l-8 3 8 3-3 8 8-3 8 3-3-8 8-3-8-3z"/></svg>
              {% when 'return' %}
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4l-5-5 5-5v4h4v2z"/></svg>
            {% endcase %}
          </div>
        {% endunless %}
        
        <div class="trust-badge__content">
          <h3 class="trust-badge__heading">{{ block.settings.heading }}</h3>
          <p class="trust-badge__text">{{ block.settings.text }}</p>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
