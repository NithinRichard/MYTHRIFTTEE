{% comment %}
  Renders a product card for the Archive collection.
  Accepts:
  - product: {Object} Product Liquid object.
  - class: {String} Additional classes.
  - show_vendor: {Boolean} Show vendor.
{% endcomment %}

<div class="card-archive {{ class }}">
  <a href="{{ product.url }}" class="card-archive__link">
    <div class="card-archive__image-wrapper">
      {% if product.featured_media %}
        {{
          product.featured_media
          | image_url: width: 800
          | image_tag:
            loading: 'lazy',
            class: 'card-archive__image',
            sizes: '(min-width: 1200px) 33vw, (min-width: 768px) 50vw, 100vw'
        }}
      {% else %}
        {{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
      {% endif %}
      
      {% comment %} Premium Vignette Overlay {% endcomment %}
      <div class="card-archive__vignette"></div>
      
      {% comment %} Badge/Overlay for status {% endcomment %}
      {% unless product.available %}
        <div class="card-archive__badge">
          Sold Out
        </div>
      {% endunless %}
    </div>

    <div class="card-archive__info">
      <h3 class="card-archive__title">
        {{ product.title }}
      </h3>
      <div class="card-archive__meta">
        <span class="card-archive__price">
          {% if product.price_varies %}
            {{ product.price_min | money }} - {{ product.price_max | money }}
          {% else %}
            {{ product.price | money }}
          {% endif %}
        </span>
        {% if show_vendor %}
          <span class="card-archive__vendor">{{ product.vendor }}</span>
        {% endif %}
      </div>
    </div>
  </a>
</div>
